<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Reportes HTML en backend que redirigen automáticamente a la ruta /overlay_js -->

        <!-- ============ 1.5 cm ============ -->
        <template id="overlay_js_backend15_page">
            <t t-set="doc" t-value="doc.with_context({'lang':doc.create_uid.lang})" />
            <t t-set="ruta_url" t-value="doc.xtipodocumento.code or 'equiposdemedicion'" />
            <t t-set="idreg" t-value="(doc.xtipodocumento.code == 'personas') and (doc.personas_id.id or 0) or (doc.xmaquinaria.id or 0)" />
            <t t-set="uid" t-value="doc.cliente_id.id or env.user.id" />
            <t t-set="overlay_js_url" t-value="'/web/ultimocertificado/%s/%s/%s/print_qr15/overlay_js' % (ruta_url, idreg, uid)" />
            <div class="page">
                <h3>Generando certificado con QR (JavaScript) - 1.5cm</h3>
                <p>Si la descarga no inicia automáticamente, <a t-att-href="overlay_js_url">haz clic aquí</a>.</p>
                <script type="text/javascript">window.location = "<t t-esc='overlay_js_url'/>";</script>
            </div>
        </template>
        <template id="report_overlay_js_backend15">
            <t t-call="web.basic_layout">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="custom_certifica_portal.overlay_js_backend15_page" />
                </t>
            </t>
        </template>
        <report id="print_qr_overlay_js_backend15" menu="True" string="Certificado + QR (JavaScript) - 1.5cm" model="informes.encuestas.merge" report_type="qweb-html" file="custom_certifica_portal.report_overlay_js_backend15" name="custom_certifica_portal.report_overlay_js_backend15"/>

        <!-- ============ 1.5 cm JS CARD ============ -->
        <template id="overlay_js_card_backend15_page">
            <t t-set="doc" t-value="doc.with_context({'lang':doc.create_uid.lang})" />
            <t t-set="ruta_url" t-value="doc.xtipodocumento.code or 'equiposdemedicion'" />
            <t t-set="idreg" t-value="(doc.xtipodocumento.code == 'personas') and (doc.personas_id.id or 0) or (doc.xmaquinaria.id or 0)" />
            <t t-set="uid" t-value="doc.cliente_id.id or env.user.id" />
            <t t-set="overlay_js_card_url" t-value="'/web/ultimocertificado/%s/%s/%s/print_qr15/overlay_js_card' % (ruta_url, idreg, uid)" />
            <div class="page">
                <h3>Generando certificado con QR Card (Servicio Externo) - 1.5cm</h3>
                <p>Si la descarga no inicia automáticamente, <a t-att-href="overlay_js_card_url">haz clic aquí</a>.</p>
                <script type="text/javascript">window.location = "<t t-esc='overlay_js_card_url'/>";</script>
            </div>
        </template>
        <template id="report_overlay_js_card_backend15">
            <t t-call="web.basic_layout">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="custom_certifica_portal.overlay_js_card_backend15_page" />
                </t>
            </t>
        </template>
        <report id="print_qr_overlay_js_card_backend15" menu="True" string="Certificado + QR Card (Servicio Externo) - 1.5cm" model="informes.encuestas.merge" report_type="qweb-html" file="custom_certifica_portal.report_overlay_js_card_backend15" name="custom_certifica_portal.report_overlay_js_card_backend15"/>

        <!-- ============ 3.5 cm JS CARD ============ -->
        <template id="overlay_js_card_backend35_page">
            <t t-set="doc" t-value="doc.with_context({'lang':doc.create_uid.lang})" />
            <t t-set="ruta_url" t-value="doc.xtipodocumento.code or 'equiposdemedicion'" />
            <t t-set="idreg" t-value="(doc.xtipodocumento.code == 'personas') and (doc.personas_id.id or 0) or (doc.xmaquinaria.id or 0)" />
            <t t-set="uid" t-value="doc.cliente_id.id or env.user.id" />
            <t t-set="overlay_js_card_url" t-value="'/web/ultimocertificado/%s/%s/%s/print_qr35/overlay_js_card35' % (ruta_url, idreg, uid)" />
            <div class="page">
                <h3>Generando certificado con QR Card (Servicio Externo) - 3.5cm</h3>
                <p>Si la descarga no inicia automáticamente, <a t-att-href="overlay_js_card_url">haz clic aquí</a>.</p>
                <script type="text/javascript">window.location = "<t t-esc='overlay_js_card_url'/>";</script>
            </div>
        </template>
        <template id="report_overlay_js_card_backend35">
            <t t-call="web.basic_layout">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="custom_certifica_portal.overlay_js_card_backend35_page" />
                </t>
            </t>
        </template>
        <report id="print_qr_overlay_js_card_backend35" menu="True" string="Certificado + QR Card (Servicio Externo) - 3.5cm" model="informes.encuestas.merge" report_type="qweb-html" file="custom_certifica_portal.report_overlay_js_card_backend35" name="custom_certifica_portal.report_overlay_js_card_backend35"/>

        <!-- ============ 3.5 cm ============ -->
        <template id="overlay_js_backend35_page">
            <t t-set="doc" t-value="doc.with_context({'lang':doc.create_uid.lang})" />
            <t t-set="ruta_url" t-value="doc.xtipodocumento.code or 'equiposdemedicion'" />
            <t t-set="idreg" t-value="(doc.xtipodocumento.code == 'personas') and (doc.personas_id.id or 0) or (doc.xmaquinaria.id or 0)" />
            <t t-set="uid" t-value="doc.cliente_id.id or env.user.id" />
            <t t-set="overlay_js_url" t-value="'/web/ultimocertificado/%s/%s/%s/print_qr35/overlay_js' % (ruta_url, idreg, uid)" />
            <div class="page">
                <h3>Generando certificado con QR (JavaScript) - 3.5cm</h3>
                <p>Si la descarga no inicia automáticamente, <a t-att-href="overlay_js_url">haz clic aquí</a>.</p>
                <script type="text/javascript">window.location = "<t t-esc='overlay_js_url'/>";</script>
            </div>
        </template>
        <template id="report_overlay_js_backend35">
            <t t-call="web.basic_layout">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="custom_certifica_portal.overlay_js_backend35_page" />
                </t>
            </t>
        </template>
        <report id="print_qr_overlay_js_backend35" menu="True" string="Certificado + QR (JavaScript) - 3.5cm" model="informes.encuestas.merge" report_type="qweb-html" file="custom_certifica_portal.report_overlay_js_backend35" name="custom_certifica_portal.report_overlay_js_backend35"/>

        <!-- ============ 5.0 cm ============ -->
        <template id="overlay_js_backend50_page">
            <t t-set="doc" t-value="doc.with_context({'lang':doc.create_uid.lang})" />
            <t t-set="ruta_url" t-value="doc.xtipodocumento.code or 'equiposdemedicion'" />
            <t t-set="idreg" t-value="(doc.xtipodocumento.code == 'personas') and (doc.personas_id.id or 0) or (doc.xmaquinaria.id or 0)" />
            <t t-set="uid" t-value="doc.cliente_id.id or env.user.id" />
            <t t-set="overlay_js_url" t-value="'/web/ultimocertificado/%s/%s/%s/print_qr50/overlay_js' % (ruta_url, idreg, uid)" />
            <div class="page">
                <h3>Generando certificado con QR (JavaScript) - 5.0cm</h3>
                <p>Si la descarga no inicia automáticamente, <a t-att-href="overlay_js_url">haz clic aquí</a>.</p>
                <script type="text/javascript">window.location = "<t t-esc='overlay_js_url'/>";</script>
            </div>
        </template>
        <template id="report_overlay_js_backend50">
            <t t-call="web.basic_layout">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="custom_certifica_portal.overlay_js_backend50_page" />
                </t>
            </t>
        </template>
        <report id="print_qr_overlay_js_backend50" menu="True" string="Certificado + QR (JavaScript) - 5.0cm" model="informes.encuestas.merge" report_type="qweb-html" file="custom_certifica_portal.report_overlay_js_backend50" name="custom_certifica_portal.report_overlay_js_backend50"/>

        <!-- ============ 9.5 cm ============ -->
        <template id="overlay_js_backend95_page">
            <t t-set="doc" t-value="doc.with_context({'lang':doc.create_uid.lang})" />
            <t t-set="ruta_url" t-value="doc.xtipodocumento.code or 'equiposdemedicion'" />
            <t t-set="idreg" t-value="(doc.xtipodocumento.code == 'personas') and (doc.personas_id.id or 0) or (doc.xmaquinaria.id or 0)" />
            <t t-set="uid" t-value="doc.cliente_id.id or env.user.id" />
            <t t-set="overlay_js_url" t-value="'/web/ultimocertificado/%s/%s/%s/print_qr95/overlay_js' % (ruta_url, idreg, uid)" />
            <div class="page">
                <h3>Generando certificado con QR (JavaScript) - 9.5cm</h3>
                <p>Si la descarga no inicia automáticamente, <a t-att-href="overlay_js_url">haz clic aquí</a>.</p>
                <script type="text/javascript">window.location = "<t t-esc='overlay_js_url'/>";</script>
            </div>
        </template>
        <template id="report_overlay_js_backend95">
            <t t-call="web.basic_layout">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="custom_certifica_portal.overlay_js_backend95_page" />
                </t>
            </t>
        </template>
        <report id="print_qr_overlay_js_backend95" menu="True" string="Certificado + QR (JavaScript) - 9.5cm" model="informes.encuestas.merge" report_type="qweb-html" file="custom_certifica_portal.report_overlay_js_backend95" name="custom_certifica_portal.report_overlay_js_backend95"/>

    </data>
</odoo>